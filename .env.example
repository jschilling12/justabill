# Database
DATABASE_URL=postgresql://justabill:justabill@postgres:5432/justabill
POSTGRES_USER=justabill
POSTGRES_PASSWORD=justabill
POSTGRES_DB=justabill

# Redis
REDIS_URL=redis://redis:6379/0

# Congress.gov API (get key from api.data.gov)
CONGRESS_API_KEY=your_congress_api_key_here

# Optional: used by the n8n "Bill Popularity Check" workflow (Google Custom Search)
GOOGLE_API_KEY=your_google_api_key_here
GOOGLE_SEARCH_ENGINE_ID=your_google_search_engine_id_here

# Bill ingestion sync
# Used by the n8n "Daily Bill Sync" workflow to decide how far back to look for recently updated bills.
SYNC_LOOKBACK_DAYS=7

# Base URL for n8n to call the backend API.
# - When running n8n via docker-compose (recommended): http://backend:8000
# - If running n8n outside Docker: http://localhost:8000
BACKEND_BASE_URL=http://backend:8000

# LLM Configuration
LLM_PROVIDER=openai  # openai, anthropic, or local
LLM_MODEL=gpt-4      # gpt-4, gpt-3.5-turbo, claude-3-opus-20240229, etc.
LLM_API_KEY=your_llm_api_key_here
LLM_BASE_URL=        # Optional: for local models (e.g., http://localhost:1234/v1)

# Application
SECRET_KEY=your-secret-key-change-in-production
# Optional: Admin key for ingestion/maintenance endpoints (send as X-Admin-Key header)
# If unset/empty, admin endpoints are not additionally protected (dev-friendly)
ADMIN_API_KEY=
BACKEND_CORS_ORIGINS=["http://localhost:3000","http://localhost:8000"]

# n8n
N8N_BASIC_AUTH_ACTIVE=true
N8N_BASIC_AUTH_USER=admin
N8N_BASIC_AUTH_PASSWORD=change_this_password
N8N_HOST=localhost
N8N_PORT=5678
N8N_PROTOCOL=http
WEBHOOK_URL=http://n8n:5678

# n8n webhook URLs for on-demand bill fetching
# After importing the "Enacted Bills On-Demand" workflow, copy the webhook URL here
# Format: https://YOUR_N8N_HOST/webhook/enacted-bills-fetch
N8N_ENACTED_WEBHOOK_URL=
# Auth key for n8n webhook (create "Header Auth" credential in n8n with name "Authorization")
N8N_WEBHOOK_AUTH_KEY=

# By default, n8n allows $env.* access in expressions.
# DO NOT set N8N_BLOCK_ENV_ACCESS_IN_NODE unless you want to block it.
# (Any value, even "false", will block access when the variable is defined.)

# Backend Service
BACKEND_HOST=0.0.0.0
BACKEND_PORT=8000

# Frontend
# For local dev: http://localhost:8000
# For production: http://YOUR_DOMAIN/api or http://YOUR_EC2_IP/api
NEXT_PUBLIC_API_URL=http://localhost:8000

# Worker
CELERY_BROKER_URL=redis://redis:6379/1
CELERY_RESULT_BACKEND=redis://redis:6379/2

# Rate Limiting
RATE_LIMIT_REQUESTS_PER_MINUTE=60
